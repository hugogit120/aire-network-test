{"version":3,"sources":["components/PrivateRoute/PrivateRoute.js","lib/api.js","components/Login/Login.js","components/MovieCard/MovieCard.js","components/SearchBox/SearchBox.js","components/UserCard/UserCard.js","components/Navbar/Navbar.js","components/Loading/Loading.js","views/Main/Main.js","views/Player/Player.js","views/error404/Error404.js","views/error500/Error500.js","App.js","index.js"],"names":["PrivateRoute","Component","component","token","localStorage","getItem","render","props","to","device","api","axios","create","baseURL","emailRegex","RegExp","Login","useState","user","setUser","pass","setPass","wrongEmailInput","setWrongEmailInput","errorMessage","setErrorMessage","history","useHistory","useEffect","className","type","id","htmlFor","onChange","e","target","value","name","md5","onClick","event","preventDefault","test","post","qs","stringify","then","data","handleLogin","error","message","setItem","push","src","width","height","secondsToTime","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","seconds","ceil","MovieCard","movie","title","cover","duration","section","addFavorite","isFavorite","icon","faClock","color","solidHeart","outlinedHeart","SearchBox","searchChange","categoryHandler","categories","placeholder","selected","map","category","UserCard","userInfo","avatar","favs","length","removeItem","NavBar","toggleFavoriteView","favoritesView","toggleUserInfo","setUserToggle","href","solidUser","Loading","spin","faSpinner","Main","theMovies","setTheMovies","searchField","setSearchField","setTheUser","isFavoriteView","setIsFavoriteView","setToggleUserInfo","isLoading","setIsLoading","setCategory","contents","catch","err","addFavoriteHandler","includes","newFavs","filter","favId","filteredMovies","toLowerCase","Set","i","some","Player","useParams","content","setContent","handlePlayerView","url","controls","ErrorPage","App","path","exact","Error500","Error404","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.36724253.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction PrivateRoute({ component: Component}) {\r\n\r\n    //obtengo el token del localStorage, si lo tenemos pasamos al nuevo componente que en este caso seria Main, de lo contrario redirijimos\r\n    //al componente login\r\nconst token = localStorage.getItem(\"token\")\r\n  return (\r\n   <Route\r\n    render={ (props)  => token ? <Component {...props} /> : <Redirect to=\"/login\" />}\r\n   />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;","import axios from \"axios\";\r\nimport qs from \"qs\";\r\nconst device = \"web\";\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nconst api = axios.create({\r\n    baseURL: \"https://dev.perseo.tv/ws\"\r\n});\r\n\r\nexport const handleLogin = (user, pass) => {\r\n    return (\r\n        api.post(\"/Login.php\",\r\n            qs.stringify({ user, pass, device }))\r\n            .then(({ data }) => data)\r\n    )\r\n}\r\n\r\nexport const handleGetMovies = () => {\r\n    return (\r\n        api.post(\"/GetView.php\",\r\n            qs.stringify({ device, token }))\r\n            .then(({ data }) => data)\r\n    )\r\n}\r\n\r\nexport const handlePlayerView = (id) => {\r\n    return (\r\n        api.post(\"/Play.php\",\r\n            qs.stringify({ device, token, id }))\r\n            .then(({ data }) => data)\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { handleLogin } from \"../../lib/api\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport md5 from \"md5\";\r\n\r\nconst emailRegex = RegExp(\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n);\r\n\r\nconst Login = () => {\r\n    const [user, setUser] = useState(\"\");\r\n    const [pass, setPass] = useState(\"\");\r\n    const [wrongEmailInput, setWrongEmailInput] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (wrongEmailInput && !user) {\r\n            setWrongEmailInput(\"\");\r\n        }\r\n    }, [user])\r\n\r\n    const removeModal = () => {\r\n        setErrorMessage(\"\");\r\n    }\r\n\r\n    const onSubmitLogin = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (user && !emailRegex.test(user)) {\r\n            return setWrongEmailInput(\"Ingresa un correo válido\");\r\n        }\r\n\r\n        handleLogin(user, pass)\r\n            .then((data) => {\r\n                if (data.error) {\r\n                    setErrorMessage(data.message);\r\n                } else {\r\n                    localStorage.setItem(\"token\", data.token);\r\n                    history.push(\"/\");\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"br4 ba b--black-10 mv4 w-1 w-50-m w-25-l mw6 shadow-5 center bg-white\">\r\n            <div className=\"pa4 relative\">\r\n                <form className=\"login measure\" type=\"submit\" >\r\n                    <div id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n                        <h2 className=\"f1 fw6 ph0 mh0\">Inicio de sesión</h2>\r\n                        <div className=\"mt3 flex flex-column items-center\">\r\n                            <label className=\"db fw6 lh-copy f6\" htmlFor=\"email\">Email</label>\r\n                            <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-70\"\r\n                                onChange={e => setUser(e.target.value)}\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                id=\"email-address\" />\r\n                            {wrongEmailInput && (\r\n                                <span className=\"errorMessage\">{wrongEmailInput}</span>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"mv3\">\r\n                            <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Contraseña</label>\r\n                            <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-70\"\r\n                                onChange={e => setPass(md5(e.target.value))}\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                id=\"password\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <button\r\n                            className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n                            type=\"submit\"\r\n                            onClick={onSubmitLogin}>\r\n                            Iniciar sesión\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                {errorMessage && (\r\n                    <div className=\"frame\">\r\n                        <div className=\"modal absolute\">\r\n                            <img src=\"http://100dayscss.com/codepen/alert.png\" width=\"44\" height=\"38\" />\r\n                            <span className=\"title\">Oh snap!</span>\r\n                            <p className=\"loginErrorMessage\">{errorMessage}</p>\r\n                            <div className=\"button\" onClick={removeModal} >Entendido</div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart as solidHeart, faClock } from '@fortawesome/free-solid-svg-icons'\r\nimport { faHeart as outlinedHeart } from '@fortawesome/free-regular-svg-icons'\r\nimport \"./MovieCard.css\"\r\n\r\n\r\nconst secondsToTime = (secs) => {\r\n    let hours = Math.floor(secs / (60 * 60));\r\n\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    return (`${hours}h : ${minutes}m : ${seconds}s`)\r\n}\r\n\r\nconst MovieCard = ({ movie: { title, cover, duration, section, id }, addFavorite, isFavorite }) => {\r\n\r\n    return (\r\n        <div className=\"container mw8 grow bg-white br4 pa2 shadow-3 overflow-hidden\">\r\n            <div className=\"movie-cover\">\r\n                <Link to={`player/${id}`}>\r\n                    <img className=\"mt0 br4\" src={cover} width=\"300\" height=\"300\" />\r\n                </Link>\r\n                <div className=\"w6 f7\">\r\n                    <h2>{title}</h2>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex w-100 pl4 justify-between f6\">\r\n                <div className=\"flex flex-column items-start \">\r\n                    <p className=\"b\">{section}</p>\r\n                    <div>\r\n                        <FontAwesomeIcon icon={faClock} />\r\n                        <small className=\"ml2\">{secondsToTime(duration)}</small>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"w-20 pointer flex justify-center items-center\" onClick={() => addFavorite(id)}>\r\n                    <FontAwesomeIcon className=\"f2\" color=\"red\" icon={isFavorite ? solidHeart : outlinedHeart} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieCard","import React from 'react'\r\n\r\nconst SearchBox = ({ searchChange, categoryHandler, categories }) => {\r\n    return (\r\n        <div className='pa2 mb5 flex justify-center items-center'>\r\n            <div className=\"mr5\" >\r\n                <input\r\n                    className='pa3 ba bg-light-gray gray tc'\r\n                    placeholder='Busca tu peli'\r\n                    type='search'\r\n                    onChange={searchChange}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <select className=\"bg-light-gray gray\" onChange={categoryHandler}>\r\n                    <option selected=\"\" value=\"\">todos los generos</option>\r\n                    {categories.map(category => {\r\n                        return (\r\n                            <option value={category}>{category}</option>\r\n                        )\r\n                    })}\r\n                </select>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBox","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./UserCard.css\";\r\n\r\n\r\nconst UserCard = ({ userInfo }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem(\"token\");\r\n        history.push(\"/login\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-column items-center userCard bg-black absolute z-1 pa2 white\" >\r\n            <div className=\"br-100 w4 h4 bg-gray\">\r\n                <img className=\"mt3\" src={userInfo.avatar} width=\"100\" height=\"100\" />\r\n            </div>\r\n\r\n            <h1>{userInfo.name}</h1>\r\n            <p>pelis favoritas: {userInfo.favs.length}</p>\r\n\r\n            <button onClick={logout}> cerrar sesion </button>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default UserCard;","import React, { useState, useEffect } from \"react\";\r\nimport { faUser as solidUser } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport UserCard from \"../UserCard/UserCard\"\r\n\r\nconst NavBar = ({ toggleFavoriteView, favoritesView, toggleUserInfo, setUserToggle, userInfo }) => {\r\n\r\n\r\n    return (\r\n        <div className=\"bg-black-90 fixed top-0 w-100 ph3 pb4 pv4-ns ph4-m ph5-l shadow-3 bb b--white z-1\">\r\n            <nav className=\"flex justify-between items-center f6 fw6 ttu tracked\">\r\n                <div className=\"w5 flex justify-around\">\r\n                    <a className={favoritesView ? \"link dim red dib mr3\" : \"link dim white dib mr3\"} href=\"#\" onClick={() => !favoritesView && toggleFavoriteView(true)}>Mis favoritas</a>\r\n                    <a className={favoritesView ? \"link dim white dib mr3\" : \"link dim red dib mr3\"} href=\"#\" onClick={() => favoritesView && toggleFavoriteView(false)}>Peliculas</a>\r\n                </div>\r\n                <div className=\"\" >\r\n\r\n                    <a className=\"link dim white dib mr5\" href=\"#\" onClick={() => setUserToggle(!toggleUserInfo)} >\r\n                        <FontAwesomeIcon className=\"f3\" color=\"white\" icon={solidUser} />\r\n                    </a>\r\n                    {toggleUserInfo ? <UserCard userInfo={userInfo} /> : null}\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar","import React from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"flex justify-center items-center vh-100\">\r\n            <FontAwesomeIcon spin icon={faSpinner} className=\" f1\" />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Loading;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MovieCard from \"../../components/MovieCard/MovieCard\";\r\nimport SearchBox from \"../../components/SearchBox/SearchBox\";\r\nimport NavBar from \"../../components/Navbar/Navbar\";\r\nimport Loading from \"../../components/Loading/Loading\"\r\nimport \"./Main.css\";\r\nimport { handleGetMovies } from \"../../lib/api\";\r\n\r\nconst Main = (props) => {\r\n    const [theMovies, setTheMovies] = useState([]);\r\n    const [searchField, setSearchField] = useState(\"\");\r\n    const [user, setTheUser] = useState({});\r\n    const [isFavoriteView, setIsFavoriteView] = useState(false);\r\n    const [toggleUserInfo, setToggleUserInfo] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [category, setCategory] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        handleGetMovies()\r\n            .then(data => {\r\n                setIsLoading(false);\r\n                setTheMovies(data.contents);\r\n                setTheUser(data.user);\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false);\r\n                props.history.push(\"/error\");\r\n            })\r\n    }, []);\r\n\r\n    const onSearchChange = (event) => {\r\n        setSearchField(event.target.value);\r\n    };\r\n\r\n    const categoryHandler = (event) => {\r\n        const { value } = event.target;\r\n        setCategory(value);\r\n    }\r\n\r\n    const addFavoriteHandler = (id) => {\r\n        const { favs } = user;\r\n        if (favs.includes(id)) {\r\n            const newFavs = favs.filter(favId => favId !== id);\r\n            setTheUser({ ...user, favs: newFavs });\r\n        } else {\r\n            favs.push(id);\r\n            setTheUser({ ...user, favs });\r\n        }\r\n    }\r\n\r\n    let filteredMovies = theMovies.filter((movie) => {\r\n        return movie.id.includes(searchField) || movie.title.toLowerCase().includes(searchField.toLowerCase());\r\n    });\r\n\r\n    if (isFavoriteView && user.favs) {\r\n        filteredMovies = filteredMovies.filter(movie => user.favs.includes(movie.id));\r\n    }\r\n\r\n    if (category) {\r\n        filteredMovies = filteredMovies.filter(movie => movie.section.toLowerCase() === category.toLowerCase());\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Loading />\r\n        );\r\n    }\r\n\r\n    const categories = [...new Set(theMovies.map(movie => movie.section))];\r\n\r\n    return (\r\n        <div>\r\n            <NavBar\r\n                userInfo={user}\r\n                toggleUserInfo={toggleUserInfo}\r\n                setUserToggle={setToggleUserInfo}\r\n                favoritesView={isFavoriteView}\r\n                toggleFavoriteView={setIsFavoriteView}\r\n            />\r\n            <div className=\"mainView  overflow-y-auto\">\r\n                <SearchBox\r\n                    categories={categories}\r\n                    searchChange={onSearchChange}\r\n                    categoryHandler={categoryHandler} />\r\n                <div className=\"movie-container flex flex-wrap align-center justify-center\">\r\n                    {filteredMovies.map((movie, i) => {\r\n                        return (\r\n                            <MovieCard\r\n                                key={i}\r\n                                addFavorite={addFavoriteHandler}\r\n                                movie={movie}\r\n                                isFavorite={user.favs && user.favs.some(id => movie.id === id)}\r\n                            />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ReactPlayer from 'react-player/file';\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { handlePlayerView } from \"../../lib/api\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\n\r\n\r\nconst Player = () => {\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const [content, setContent] = useState({});\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        handlePlayerView(id)\r\n            .then(data => {\r\n                setIsLoading(false);\r\n                setContent(data);\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false);\r\n                history.push(\"/error\");\r\n            })\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-black flex justify-center vh-100 pt5\">\r\n            <ReactPlayer\r\n                url={content.url}\r\n                width=\"70%\"\r\n                height='70%'\r\n                controls={true}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Player;","import React from \"react\";\r\nimport \"./Error404.css\";\r\n\r\nconst ErrorPage = (props) => {\r\n\r\n  const toHome = () => {\r\n    props.history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"unknowPage\">\r\n      <div className=\"errorPage-Text\">\r\n        <h2>Página no encontrada</h2>\r\n        <h1>404</h1>\r\n        <button className=\"backHomeButton\" onClick={toHome}>\r\n          Volver\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorPage;\r\n","import React from \"react\";\r\nimport \"../error404/Error404.css\"\r\n\r\nconst ErrorPage = (props) => {\r\n\r\n    const toHome = () => {\r\n        props.history.push(\"/\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"unknowPage\">\r\n            <div className=\"errorPage-Text\">\r\n                <h2>Lo sentimos, ha habido un error</h2>\r\n                <h1>500</h1>\r\n                <button className=\"backHomeButton\" onClick={toHome}>\r\n                    Volver\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ErrorPage;\r\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\nimport Login from \"./components/Login/Login\";\nimport Main from \"./views/Main/Main\";\nimport Player from \"./views/Player/Player\";\nimport Error404 from \"./views/error404/Error404\";\nimport Error500 from \"./views/error500/Error500\";\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/login\" exact component={Login} />\n        <Route path=\"/player/:id\" exact component={Player} />\n        <Route path=\"/error\" exact component={Error500} />\n        <PrivateRoute path=\"/\" exact component={Main} />\n        <Route component={Error404} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport \"tachyons\"\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}